<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <!-- 부트스트랩 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- 부트스트랩 JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- 부트스트랩 아이콘 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">

</head>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
  }

  .header {
    background-color: #f5f5f5;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    font-size: 24px;
    font-weight: bold;
  }

  .categories {
    display: flex;
  }

  .category {
    margin-right: 10px;
  }

  .login {
    text-decoration: none;
    color: #000;
    margin-right: 10px;
  }

  .logout {
    text-decoration: none;
    color: #000;
  }
</style>

<body>
  <script>
    function showMessage(message) {
      alert(message);
    }
    window.onload = function() {
      var message = /*[[${message}]]*/ '';
      if (message && message.length > 0) {
        showMessage(message);
      }
    }
  </script>
  <script th:if="${message}" th:inline="javascript">
    showMessage([[${message}]]);
  </script>




  <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">JB SHOP</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/main">Home</a>
        </li>
        <li class="nav-item">
          <a th:if="${session.memberId != null}"  class="nav-link" href="/memberDetail">내 정보</a>
          <a th:if="${session.memberId == null}" class="nav-link" href="/join">회원가입</a>
        </li>
        <li class="nav-item">
          <a th:if="${session.memberId != null}"  class="nav-link" href="/logout">로그아웃</a>
          <a th:if="${session.memberId == null}" class="nav-link" href="/login">로그인</a>
        </li>

        <li class="nav-item">
          <a th:if="${session.memberId != null && session.memberId == 1}" href="/admin/addItem"
             class="nav-link">상품 등록</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            카테고리
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>

      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
      &nbsp;&nbsp;
      <form action="/user/cart" class="d-flex">
        <button class="btn btn-outline-success" type="submit">
          <i class="bi-cart-fill me-1"></i>
          장바구니
          <span class="badge bg-dark text-white ms-1 rounded-pill">0</span>
        </button>
      </form>


    </div>
  </div>
</nav>


<!--  <div id="carouselExample" class="carousel slide">-->
<!--    <tr th:each="item : ${items}">-->
<!--    <div class="carousel-inner">-->
<!--      <div class="carousel-item active">-->
<!--        <a th:href="@{/item/detail(itemId=${item.id})}"><img  th:if="${item.itemImg != null}" th:src="'data:image/png;base64,' + ${item.itemImg}" class="d-block w-100" height="100" width="100"></a>-->
<!--      </div>-->
<!--      <div class="carousel-item">-->
<!--        <img src="..." class="d-block w-100" alt="...">-->
<!--      </div>-->
<!--      <div class="carousel-item">-->
<!--        <img src="..." class="d-block w-100" alt="...">-->
<!--      </div>-->
<!--    </div>-->
<!--    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">-->
<!--      <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--      <span class="visually-hidden">Previous</span>-->
<!--    </button>-->
<!--    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">-->
<!--      <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--      <span class="visually-hidden">Next</span>-->
<!--    </button>-->
<!--    </tr>-->
<!--  </div>-->


  <h1>Item List</h1>
  <table>
    <tr>
      <th>Name</th>
      <th>Count</th>
      <th>Price</th>
      <th>Stock</th>
      <th>Text</th>
      <th>Image</th>
    </tr>
    <!-- 아이템 정보 반복 처리 -->
    <tr th:each="item : ${items}">
      <td th:text="${item.itemName}"></td>
      <td th:text="${item.count}"></td>
      <td th:text="${item.itemPrice}"></td>
      <td th:text="${item.itemStock}"></td>
      <td th:text="${item.itemText}"></td>
      <td>
        <a th:href="@{/item/detail(itemId=${item.id})}"><img th:if="${item.itemImg != null}" th:src="'data:image/png;base64,' + ${item.itemImg}" height="100" width="100"/></a>
      </td>
    </tr>
  </table>

<!--  <div class="text-center">-->
<!--    <img src="..." class="rounded" alt="...">-->
<!--  </div>-->


  <div class="col mb-5">
    <div class="card h-100">
      <!-- Sale badge-->
      <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale</div>
      <!-- Product image-->
      <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" height="100" width="100" alt="..." />
      <!-- Product details-->
      <div class="card-body p-4">
        <div class="text-center">
          <h5 class="fw-bolder">Special Item</h5>
          <span class="text-muted text-decoration-line-through">$20.00</span>
          $18.00
        </div>
      </div>
      <!-- Product actions-->
      <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
        <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">Add to cart</a></div>
      </div>
    </div>
  </div>


</body>
</html>